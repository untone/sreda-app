(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{151:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(43),s=a.n(c),o=(a(99),a(14)),l=a(13),i=a(34),u=a(23),p=a.n(u),m=a(16),h=a(71),d=a(12),g=a(86),b=a(93),f=a(92),E=a(30),_="@@router/LOCATION_CHANGE",O="REPOS/FETCH_LICENSES_STARTED",v="REPOS/FETCH_LICENSES_SUCCEEDED",j="REPOS/FETCH_LICENSES_FAILED",y="REPOS/FETCH_REPOS_STARTED",x="REPOS/FETCH_REPOS_SUCCEEDED",w="REPOS/FETCH_REPOS_FAILURE",N="REPOS/SET_QUERY",S={date:function(){var e=new Date;return e.setMonth(e.getMonth()-1),e}(),license:"",licenses:[],items:[],inited:!1,loading:!1,message:"",search:"",page:1,total:0},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0,a=t.items,n=t.message,r=t.licenses,c=t.payload,s=t.type,o=t.total_count;switch(s){case v:return sessionStorage.setItem("licenses",JSON.stringify(r)),Object(E.a)({},e,{licenses:[{key:"all",spdx_id:"All"}].concat(Object(f.a)(r))});case y:return Object(E.a)({},e,{loading:!0});case x:return Object(E.a)({},e,{items:a,total:o,loading:!1});case j:case w:return Object(E.a)({},e,{loading:!1,message:n});case N:return Object(E.a)({},e,{search:c.search||e.search,license:"all"===c.license?"":c.license||e.license,page:c.page||e.page});default:return e}},R=function(e){return Object(m.combineReducers)({router:Object(i.b)(e),repos:k,loadingBar:u.loadingBarReducer})},C=a(8),T=a.n(C),P=a(7),I=a(67),F=a(50),D=function(e,t){var a=Object(F.a)(t,2),n=a[0],r=a[1],c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=M(e.location.search);return s.set(n,r),c&&s.delete(c),"?".concat(s.toString())},L=function(e){return new Intl.NumberFormat("ru-RU",{style:"decimal"}).format(e)},M=function(e){return new URLSearchParams(e)},A=atob("ZDM2NmZhZTBjNjM2NGZmZjEzMzkwODMzNTlmMTk1OTZkZjcxMjE2Yg=="),Z=function(e){var t=M(e),a={},n=!0,r=!1,c=void 0;try{for(var s,o=t[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var l=s.value,i=Object(F.a)(l,2),u=i[0],p=i[1];a[u]="page"===u?parseInt(p,10):p}}catch(m){r=!0,c=m}finally{try{n||null==o.return||o.return()}finally{if(r)throw c}}return a},z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a="".concat("https://api.github.com").concat(e);if(Object.keys(t).length){var n=t.date,r=t.license,c=t.search,s=t.page,o='+created:">'.concat(n.toISOString().slice(0,10),'"'),l=r.length?"+license:".concat(r):"",i="".concat(c).concat(o).concat("+language:javascript").concat(l),u={sort:"stars",order:"desc",per_page:20,page:s};a="".concat(a,"?q=").concat(i,"&").concat(function(e){return M(e).toString()}(u),"&access_token=").concat(A)}return fetch("".concat(a)).then(function(e){return e.json()}).catch(function(e){return e.message})},H=function(){var e=Object(I.a)(T.a.mark(function e(){var t,a;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=sessionStorage.getItem("licenses"),a=JSON.parse(t)||{},!Object.keys(a).length){e.next=6;break}return e.abrupt("return",a);case 6:return e.next=8,z("/licenses");case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(I.a)(T.a.mark(function e(t){var a;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z("/search/repositories",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),U=T.a.mark(V),B=T.a.mark(Y),G=T.a.mark(K),W=T.a.mark(Q),q=function(e,t){return e[t]};function V(){var e,t;return T.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(P.c)(q,"repos");case 2:if(e=a.sent,e.licenses.length){a.next=19;break}return a.next=7,Object(P.b)({type:O});case 7:return a.prev=7,a.next=10,Object(P.a)(H);case 10:return t=a.sent,a.next=13,Object(P.b)({type:v,licenses:t});case 13:a.next=19;break;case 15:return a.prev=15,a.t0=a.catch(7),a.next=19,Object(P.b)({type:j,message:a.t0.message});case 19:case"end":return a.stop()}},U,null,[[7,15]])}function Y(e){var t;return T.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.next=3,Object(P.b)({type:N,payload:Z(t.location.search)});case 3:case"end":return a.stop()}},B)}function K(e){var t,a,n,r,c,s,o,l;return T.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return e.payload,i.next=3,Object(P.b)({type:y});case 3:return i.next=5,Object(P.c)(q,"repos");case 5:return t=i.sent,a=t.date,n=t.license,r=t.search,c=t.page,i.next=12,Object(P.b)(Object(u.showLoading)());case 12:return i.prev=12,i.next=15,Object(P.a)(J,{date:a,license:n,search:r,page:c});case 15:return s=i.sent,o=s.items,l=s.total_count,i.next=20,Object(P.b)({type:x,items:o,total_count:l});case 20:i.next=26;break;case 22:return i.prev=22,i.t0=i.catch(12),i.next=26,Object(P.b)({type:w,message:i.t0.message});case 26:return i.prev=26,i.next=29,Object(P.b)(Object(u.hideLoading)());case 29:return i.finish(26);case 30:case"end":return i.stop()}},G,null,[[12,22,26,30]])}function Q(){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(P.e)(_,Y);case 2:return e.next=4,Object(P.e)(N,K);case 4:return e.next=6,Object(P.e)(N,V);case 6:case"end":return e.stop()}},W)}var $=Q,X=T.a.mark(ee);function ee(){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(P.d)($);case 2:case"end":return e.stop()}},X)}var te=ee,ae=Object(d.a)(),ne=Object(b.a)(),re=a(6),ce=a.n(re),se=Object(o.f)(function(e){e.dispatch;var t=e.history,a=e.search;return r.a.createElement("header",{className:ce.a.search},r.a.createElement("input",{autoFocus:!0,spellCheck:!1,type:"text",className:ce.a.input,placeholder:"Enter name or part",defaultValue:a,onKeyUp:function(e){return function(e){var n=e.nativeEvent,r=n.target.value;13===n.which&&r!==a&&t.push(D(t,["search",r],"page"))}(e)}}))}),oe=Object(l.connect)(function(e){return e.repos})(Object(n.memo)(se)),le=function(e){var t=e.history,a=e.license,n=e.licenses,c=e.total;return r.a.createElement("header",{className:ce.a.header},c?r.a.createElement("div",{className:ce.a.counter},c>1e3?"More than ":"",L(c>1e3?1e3:c)," result",c>1?"s":""):r.a.createElement("div",{className:ce.a.counter},"No results"),n.length?r.a.createElement("div",{className:ce.a.filter},"Filter by license:",r.a.createElement("select",{className:ce.a.license,onChange:function(e){var a=e.target.value;t.push(D(t,["license",a]))},defaultValue:a},n.map(function(e){var t=e.key,a=e.spdx_id;return r.a.createElement("option",{key:t,value:t},a)}))):null)},ie=a(17),ue=function(e){var t=e.full_name,a=e.id,c=e.html_url,s=e.license,o=void 0===s?{name:""}:s,l=e.stargazers_count;return r.a.createElement("li",{key:a,className:ce.a.item,data:JSON.stringify(o)},r.a.createElement("h3",{className:ce.a.name},r.a.createElement("a",{href:c,target:"_blank",rel:"noopener noreferrer"},t)),r.a.createElement("span",{className:ce.a.details},r.a.createElement(ie.e,{key:"star",icon:ie.d,className:ce.a.icon}),r.a.createElement("span",{className:ce.a.label},l),o&&"other"!==o.key?r.a.createElement(n.Fragment,null,r.a.createElement(ie.e,{key:"law",icon:ie.c,className:ce.a.icon}),r.a.createElement("span",{className:ce.a.label},o.spdx_id)):null))},pe=Object(n.memo)(function(e){var t=e.items,a=e.loading;return r.a.createElement(n.Fragment,null,t.length?r.a.createElement("ol",{className:ce.a.list},t.map(ue)):r.a.createElement("div",{className:ce.a.list},r.a.createElement("div",{className:ce.a.empty},a?"loading":"No repos found")))}),me=a(91),he=a(90),de=a.n(he),ge=a(33),be=Object(o.f)(function(e){var t=e.display,a=e.history,n=e.page,c=e.total;return t?r.a.createElement(me.a,{locale:de.a,className:ce.a.pagination,hideOnSinglePage:!0,current:n,itemRender:function(e,t){var c=D(a,["page",e]),s=L(e);return"prev"===t&&(s=r.a.createElement(ie.e,{key:"icon",icon:ie.a})),"next"===t&&(s=r.a.createElement(ie.e,{key:"icon",icon:ie.b})),e===n||0===e?r.a.createElement("span",{className:ce.a.page},s):r.a.createElement(ge.a,{to:c,className:ce.a.page},s)},pageSize:20,showLessItems:!0,total:c>1e3?1e3:c,showPrevNextJumpers:!1}):null}),fe=Object(o.f)(function(e){var t=e.loading,a=e.history,n=e.license,c=e.licenses,s=e.items,o=e.total,l=e.page;return r.a.createElement("main",null,r.a.createElement(oe,null),r.a.createElement("h1",{className:ce.a.title},"Popular Javascript repos from last month"),r.a.createElement(le,{license:n,licenses:c,history:a,total:o}),r.a.createElement(pe,{items:s,loading:t,page:l,total:o}),r.a.createElement(be,Object.assign({history:a,page:l,total:o},{display:s.length})))}),Ee=Object(l.connect)(function(e){return e.repos})(Object(n.memo)(fe)),_e=function(e){var t=Object(m.createStore)(R(ae),e,Object(g.composeWithDevTools)(Object(m.applyMiddleware)(Object(h.a)(ae),ne)));return ne.run(te),t}(),Oe={top:0,zIndex:2,backgroundColor:"#0080ff",height:"5px"},ve=function(){return r.a.createElement(l.Provider,{store:_e},r.a.createElement(i.a,{history:ae},r.a.createElement(p.a,{style:Oe}),r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/",component:Ee}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(ve,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},6:function(e,t,a){e.exports={search:"repos_search__2_lHh",input:"repos_input__KiyEJ",repos:"repos_repos__32gzz",list:"repos_list__1oOGa",header:"repos_header__2FqSA",title:"repos_title__3MPgG",license:"repos_license__2EiZ6",item:"repos_item__19Yyj",name:"repos_name__17LAW",icon:"repos_icon__mAwmS",details:"repos_details__2I2Bm",label:"repos_label__P23r5",empty:"repos_empty__1ZEGb",back:"repos_back__adjqh",pagination:"repos_pagination__2poV8",page:"repos_page__3ZTsO"}},94:function(e,t,a){e.exports=a(151)},99:function(e,t,a){}},[[94,1,2]]]);
//# sourceMappingURL=main.43be8c10.chunk.js.map